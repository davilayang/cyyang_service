upstream hello_flask {
    server flask:5001; # exposed port of flask
}

server {

    # Define the server name, IP address, and/or port of the server
    listen 80;
    # server_name xxx.yyy.zzz.aaa

    # Define the specified charset to the “Content-Type” response header field
    charset utf-8;

    # Configure NGINX to reverse proxy HTTP requests to the upstream server 
    # (Gunicorn (WSGI server))
    location / {
        # Define the location of the proxy server to send the request to
        # i.e. upstreme hello_flask
        proxy_pass http://hello_flask;

        # Redefine the header fields that NGINX sends to the upstream server
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_redirect off;
    }

    # Configure NGINX to deliver static content from the specified folder
    # location /static/ {
    #     alias /home/app/web/project/static/;
    # }

    # location /media/ {
    #     alias /home/app/web/project/media/;
    # }

}